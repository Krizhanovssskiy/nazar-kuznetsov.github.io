"use strict";function Slider(t){var i=this;if(this.container=document.querySelector(t.container),this.dotsReady=t.dots,this.fade=t.fade||!1,this.count=this.fade?0:1,this.vertical=t.vertical||!1,this.fade)this.container.classList.add("slider-F");else{var e=this.container.children[0],s=this.container.children[this.container.children.length-1];this.container.appendChild(this.cloneElement(e)),this.container.insertBefore(this.cloneElement(s),this.container.firstChild),this.vertical?(this.container.parentNode.classList.add("slider-container-Y"),this.container.classList.add("slider-Y")):(this.container.parentNode.classList.add("slider-container-X"),this.container.classList.add("slider-X"))}this.children=this.container.children;for(var n=0;n<this.children.length;n++)this.vertical||this.fade?this.vertical&&!this.fade?this.children[n].classList.add("slider-item-Y"):this.fade&&this.children[n].classList.add("slider-item-F"):this.children[n].classList.add("slider-item-X");this.childrenSize=this.getChildrenSize.call(this),this.containerSize=-this.childrenSize,this.fade||this.transform(),this.children[this.count].classList.add("active"),this.length=this.children.length,this.timerId=void 0,this.time=t.time||4e3,this.callback=t.callback||function(){},this.coordsMove={start:void 0,move:void 0,end:void 0},this.pauseScroll=!1,this.touchUser=!1,this.speed=!0,this.scrollStart=!1,this.isRun=!1,void 0!==t.next&&void 0!==t.prev&&(this.buttonNext=document.querySelector(t.next),this.buttonPrev=document.querySelector(t.prev),this.buttonNext.addEventListener("click",this.next.bind(this)),this.buttonPrev.addEventListener("click",this.prev.bind(this))),this.dotsReady&&(this.dots=document.querySelectorAll(t.dots),this.dots[0].classList.add("active"),this.dots.forEach(function(t,e){i.fade?t.setAttribute("data-slide",e):t.setAttribute("data-slide",e+1),t.addEventListener("click",i.paginationMove.bind(i))})),this.container.addEventListener("touchstart",this.touchStart.bind(this)),this.container.addEventListener("touchmove",this.touchMove.bind(this)),this.container.addEventListener("touchend",this.calcScroll.bind(this)),this.container.addEventListener("mousedown",this.mouseStart.bind(this)),this.container.addEventListener("mousemove",this.mouseMove.bind(this)),this.container.addEventListener("mouseup",this.calcScroll.bind(this)),this.container.addEventListener("mouseleave",this.calcScroll.bind(this)),this.container.addEventListener("transitionend",this.animatedEnd.bind(this)),t.auto&&this.autoSlider(),void 0!==this.style||this.fade||window.addEventListener("resize",this.resizeResponsive.bind(this))}Slider.prototype.resizeResponsive=function(){this.vertical?this.container.classList.remove("animate-Y"):this.container.classList.remove("animate-X"),this.childrenSize=this.getChildrenSize.call(this);var t=this.childrenSize*this.count;this.containerSize=-t,this.transform()},Slider.prototype.cloneElement=function(t){var i=document.createElement(t.nodeName);return i.className=t.className,i.innerHTML=t.innerHTML,i},Slider.prototype.mouseStart=function(t){if(t.preventDefault(),!this.pauseScroll&&!this.isRun){var i=t.clientY,e=t.clientX;this.scrollStart=!0,this.getTargetPosition(i,e)}},Slider.prototype.touchStart=function(t){if(t.preventDefault(),!this.pauseScroll&&!this.isRun){var i=t.touches[0].pageY,e=t.touches[0].pageX;this.scrollStart=!0,this.getTargetPosition(i,e)}},Slider.prototype.getTargetPosition=function(t,i){this.stopTimer(),this.vertical&&event.preventDefault(),this.fade||(this.vertical?this.container.classList.remove("animate-Y"):this.container.classList.remove("animate-X")),this.coordsMove.start=this.setTargetPosition(t,i)},Slider.prototype.setTargetPosition=function(t,i){return this.vertical?t:i},Slider.prototype.mouseMove=function(t){this.scrollStart&&(this.pauseScroll||(this.scrollStart=!0,this.coordsMove.move=this.setTargetPosition(t.clientY,t.clientX),this.scrollMove()))},Slider.prototype.touchMove=function(t){this.pauseScroll||this.scrollStart&&(this.scrollStart=!0,this.coordsMove.move=this.setTargetPosition(t.touches[0].pageY,t.touches[0].pageX),this.scrollMove())},Slider.prototype.scrollMove=function(){this.touchUser=!0,this.coordsMove.end=this.count*this.childrenSize+(this.coordsMove.start-this.coordsMove.move),this.containerSize=-this.coordsMove.end,this.fade||(this.stopTimer(),this.transform())},Slider.prototype.calcScroll=function(){(this.touchUser||this.scrollStart)&&(Math.abs(this.count*this.childrenSize-this.coordsMove.end)>this.childrenSize/8&&this.touchUser&&(this.coordsMove.end>this.count*this.childrenSize?this.count+=1:this.coordsMove.end<this.count*this.childrenSize&&(this.count-=1),this.fade||(this.pauseScroll=!0)),this.containerSize=-this.count*this.childrenSize,this.touchUser=!1,this.scrollStart=!1,this.move())},Slider.prototype.autoSlider=function(){this.startTimer(),this.container.addEventListener("mouseover",this.stopTimer.bind(this)),void 0!==this.buttonNext&&this.buttonNext.addEventListener("click",this.stopTimer.bind(this)),this.container.addEventListener("mouseout",this.startTimer.bind(this))},Slider.prototype.next=function(){if(this.isRun&&!this.fade)return!1;this.isRun=!0,this.containerSize-=this.childrenSize,this.count+=1,this.move()},Slider.prototype.prev=function(){if(this.isRun&&!this.fade)return!1;this.isRun=!0,this.stopTimer(),this.containerSize+=this.childrenSize,this.count-=1,this.move()},Slider.prototype.stopTimer=function(){void 0!==this.timerId&&clearInterval(this.timerId)},Slider.prototype.startTimer=function(){void 0===this.timerId&&(this.timerId=setInterval(this.next.bind(this),this.time))},Slider.prototype.paginationMove=function(t){t.preventDefault(),this.stopTimer();var i=t.target;this.isRun=!0,this.count=parseInt(i.getAttribute("data-slide"));var e=this.childrenSize*this.count;this.containerSize=-e,this.move()},Slider.prototype.checkCount=function(){var t=this;this.count>this.length-2?this.container.addEventListener("transitionend",function(){t.count>t.length-2&&t.invisibleMove(1,1)}):this.count<1?this.container.addEventListener("transitionend",function(){t.count<1&&t.invisibleMove(t.length-2)}):this.children[this.count].classList.add("active")},Slider.prototype.elementActive=function(){for(var t=0;t<this.length;t++)this.children[t].classList.remove("active"),this.children[t].addEventListener("transitionend",function(t){t.stopPropagation()});if(this.dotsReady){for(var i=0;i<this.dots.length;i++)this.dots[i].classList.remove("active");this.count>this.dots.length?this.dots[0].classList.add("active"):0===this.count?this.dots[this.dots.length-1].classList.add("active"):this.dots[this.count-1].classList.add("active")}},Slider.prototype.fadeActive=function(){this.count>this.children.length-1?this.count=0:this.count<0&&(this.count=this.children.length-1);for(var t=0;t<this.children.length;t++)this.children[t].classList.remove("active"),this.dotsReady&&this.dots[t].classList.remove("active");this.children[this.count].classList.add("active"),this.dotsReady&&this.dots[this.count].classList.add("active"),this.adaptiveHeight()},Slider.prototype.move=function(){this.fade?this.fadeActive():(this.elementActive(),this.checkCount(),this.addClassAnimate(),this.transform())},Slider.prototype.transform=function(){this.vertical?this.container.style.transform="translateY("+this.containerSize+"px)":(this.container.style.transform="translateX("+this.containerSize+"px)",this.adaptiveHeight())},Slider.prototype.getChildrenSize=function(){return this.vertical?this.children[this.count].clientHeight:this.children[this.count].clientWidth},Slider.prototype.animatedEnd=function(){this.isRun=!1,this.pauseScroll=!1,this.callback()},Slider.prototype.invisibleMove=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;this.count=t,this.vertical?this.container.classList.remove("animate-Y"):this.container.classList.remove("animate-X"),this.children[this.count].classList.add("active"),this.containerSize=-this.childrenSize*i,this.transform(),this.pauseScroll=!1},Slider.prototype.addClassAnimate=function(){this.vertical&&!this.container.classList.contains("animate-Y")&&this.container.classList.add("animate-Y"),this.vertical||this.container.classList.contains("animate-X")||this.container.classList.add("animate-X")},Slider.prototype.adaptiveHeight=function(){this.container.style.height=this.children[this.count].clientHeight+"px"};
